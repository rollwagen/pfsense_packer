{
  "builders": [
    {
      "type": "vmware-iso",
        "http_directory": "http",
        "http_port_min": "8100",
        "boot_wait": "20s",
        "boot_command": [
          "<wait5>A",
          "<wait5><enter>",
          "<wait5><enter>",
          "<wait5><enter>",

          "<wait10><wait5>",
          "<wait5><wait>",
          "<wait10><wait10><wait5>",
          "<wait>n<enter><wait>",

          "<wait10><wait10><wait10><wait5>",
          
          "<wait>n<enter><wait5>",
          "<wait>em0<enter><wait5>",
          "<wait><enter><wait5>",
          "<wait>y<enter><wait10>",
          
          "<wait10><wait10>",
          "<wait>14<enter><wait5>",
          "<wait>y<enter><wait5>",
          "<wait>8<enter>",
          "<wait>pkg update<wait><enter><wait5>",
          "<wait>pkg upgrade<wait><enter><wait5>",
          "<wait>pkg install -y sudo<wait><enter><wait5>",
          "<wait>pkg install -y bash<wait><enter><wait5>",
          "<wait>rehash<enter>",
          "<wait>pw usermod root -h 0<wait><enter>",
	        "<wait>vagrant<enter>", 
          "<wait>pw adduser vagrant -m -s /usr/local/bin/bash<enter>",
          "<wait>pw usermod vagrant -h 0<enter>",
          "<wait>vagrant<enter>",
          "<wait>pw group mod wheel -m vagrant<enter>",
          "<wait>echo '%wheel ALL=(ALL) NOPASSWD: ALL' >> /usr/local/etc/sudoers<enter>",
          "<wait>chmod 0440 /usr/local/etc/sudoers<wait><enter>",
          "<wait5>reboot<enter>"
        ],
      "disk_size": 4096,
      
      "guest_os_type": "freeBSD",
      "iso_checksum": "bd1120494be5f36cba3a7ab34e8278da",
      "iso_checksum_type": "md5",
      "iso_urls": [ "/Volumes/PORTABLE2/ISO/_SANS_and_BHIS/BHIS-Applied_Purple_Teaming/pfSense-CE-2.4.5-RELEASE-p1-amd64.iso" ],
      
      "shutdown_command": "sudo shutdown -p now",
      "ssh_port": 22,

      "ssh_password": "vagrant",
      "ssh_username": "vagrant",
      "ssh_wait_timeout": "10000s",
      "vm_name": "pfSense",
      "vmx_data": {
        "memsize": "1024",
        "numvcpus": "1"
      }
   
  }
  ],
   
  "post-processors": [  
    {
      "type": "vagrant",
	    "output" : "pfSense_{{.Provider}}.box",
	    "keep_input_artifact": false
    }
  ]
}
